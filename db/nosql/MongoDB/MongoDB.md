MongoDB - нереляционная база данных (NoSQL-база данных), которая предназначена для хранения и работы с большими объемами данных, которые требуют масштабирования и распределения на несколько серверов. Данная база данных является документо-ориентированной и центральной сущностью данной базы данных является документ, который зачастую представляют собой BSON-объекты (Binary JSON), пары ключ-значение вида:
```
user: {
  "_id": "someid123"
  first_name="Ivan",
  last_name="Ivanov",
  age: 21,
  cards: [
	{"number": "1234 1234 1234 1234"},
	{"number": "1234 1234 1234 2134"},
	{"number": "1234 1234 1234 2314"},
	{"number": "1234 1234 1234 2341"},
  ]
}
```
В отличие от реляционных СУБД MongoDB позволяет сохранять различные документы с различным набором данных, однако при этом размер документа ограничивается 16 мб.

В отличие от реляционных баз данных (SQL-баз данных), MongoDB вместо таблиц используют коллекции. Каждая коллекция имеет свой уникальный идентификатор, состоящий не более чем из 128 символов латинского алфавита, цифр и нижнего подчеркивания.

В документах ключи представляют собой строки, а значения могут отличаться по типу данных. Существуют следующие типы данных для значений.
- String - строковое значение (в кодировке UTF-8)
- Array - тип данных для хранения массивов элементов
- Binary Data - тип данных для хранения данных в бинарном (двоичном) формате
- Boolean - булевый тип данных для значений TRUE/FALSE
- Date - хранит дату (Unix-формат)
- Double - для хранения чисел с плавающей запятой
- Integer - для хранения целочисленных значений (32 бита)
- Long - для хранения целочисленных значений (64 бита)
- JavaScript - для хранения JS-кода
- Min Key/Max Key - используется для сравнения значений с наименьшим/наибольшим значением BSON
- Null - для хранения значений типа null
- Object - объект с набором свойств
- ObjectId - тип данных для хранения id документа
- Regular Expression - применяется для хранения регулярных выражений
- Decimal128 - применяется для хранения числе с плавающей запятой размером 128 бит
- Timestamp - для хранения времени

В MongoDB запросы обладают регистрозависимостью и строгой типизацией, поэтому значения приведенные ниже не будут идентичными.
```
{"age": "28"}
{"age": 28}
```

Для каждого документа в MongoDB применяется уникальный идентификатор вида `_id`. Значение уникального идентификатора задается автоматически при добавлении документа в базу данных. При желании можно задать свое уникальное значение, не полагаясь на автоматически задаваемое значение. Данное поле должно быть уникальным в рамках коллекции. При попытке задать два одинаковых идентификатора в рамках одной коллекции для двух разных документов, добавится только первый, а при попытке добавления второго документа возникнет ошибка и документ не добавится в коллекцию.

Значение идентификатора весит 12 байт и состоит из 3 сегментов: timestamp (4 байта) - значение в секундах с момента начала эпохи Unix, случайное число (5 байт) и счетчик (3 байта).

Минимальный `docker-compose.yml` для запуска контейнера с MongoDB:
```
services
  mongodb:
	image: mongo:latest
	container_name: mongodb_quickstart
	restart: always
	ports:
	  - "27017:27017"
	environment:
	  MONGO_INITDB_ROOT_USERNAME: admin
	  MONGO_INITDB_ROOT_PASSWORD: password123

volumes:
  - mongodb_data:/data/db
```
Можно использовать встроенную консольную оболочку mongosh:
```
docker compose exec mongodb mongosh -u admin -p password123
show dbs
```
При первой инициализации создаются 3 системные базы данных:
- `admin` - Административная база данных, которая хранит записи о пользователях и ролях. Пользователи, которые имеют доступ к бд admin - имеют доступ к любой базе данных системы.
- `local` - Локальная бд для репликации. Не реплицируется в кластере. Хранит `oplog.ps` - журнал операций для репликации, настройки репликации, локальные коллекции.
- `config` - Для шардированных кластерах. Хранит метаданные шардинга (распределение данных по шардам), настройки балансировки и информацию о chunk (блоках данных)
```
use admin - переключится на бд при помощи use db_name
# Если бд с именем db_name до этого не существовало, она создаться автоматически 
show collections - показать какие есть коллекции в бд 
```
Если создать бд в ней будут системные коллекции:
```
system.views     - представления (views)
system.js        - JavaScript-функции
system.profile   - профилировщик запросов
```